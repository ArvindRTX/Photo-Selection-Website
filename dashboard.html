<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Signature Photography</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@300;400;500;600;700&display=swap');
        :root{--brand-gold:#c0a062;--brand-dark:#2d2d2d;--brand-light:#f8f7f5;--shadow-light:rgba(90,90,90,0.1);--shadow-gold:rgba(192,160,98,0.2)}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Montserrat',sans-serif;background:linear-gradient(135deg,#f8f7f5 0%,#f0efed 100%);color:var(--brand-dark);min-height:100vh;overflow-x:hidden}
        .bg-pattern{position:fixed;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(rgba(192,160,98,0.1) 1px,transparent 1px);background-size:50px 50px;z-index:-1;opacity:.3}
        #login-view{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px}
        .login-container{background:rgba(255,255,255,0.9);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:24px;padding:50px;box-shadow:0 30px 80px rgba(0,0,0,0.15);max-width:450px;width:100%;text-align:center;animation:fadeInUp .6s ease-out}
        .login-container h1{font-family:'Playfair Display',serif;font-size:2.5rem;color:var(--brand-gold);margin-bottom:30px;position:relative}
        .login-container h1::after{content:'';position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:60px;height:3px;background:linear-gradient(90deg,#c0a062,#d4b375);border-radius:2px}
        .dashboard-container{display:none;max-width:1600px;margin:0 auto;padding:20px;animation:fadeIn .5s ease-out}
        .dashboard-header{background:rgba(255,255,255,0.9);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:20px;padding:30px;margin-bottom:30px;box-shadow:0 15px 35px var(--shadow-light);display:flex;justify-content:space-between;align-items:center}
        .dashboard-title{font-family:'Playfair Display',serif;font-size:2.5rem;color:#1a1a1a}
        .admin-info{display:flex;align-items:center;gap:15px}
        #admin-welcome{font-weight:500}
        .logout-btn{background:linear-gradient(135deg,#c0a062,#d4b375);color:#fff;border:none;padding:12px 24px;border-radius:12px;cursor:pointer;font-weight:600;display:flex;align-items:center;gap:8px;transition:.3s}
        .logout-btn:hover{transform:translateY(-2px);box-shadow:0 10px 25px var(--shadow-gold)}
        .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}
        .stat-card{background:rgba(255,255,255,0.9);border-radius:16px;padding:25px;text-align:center;box-shadow:0 10px 30px var(--shadow-light);transition:.3s;position:relative;overflow:hidden}
        .stat-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,#c0a062,#d4b375)}
        .stat-card:hover{transform:translateY(-5px);box-shadow:0 20px 40px rgba(90,90,90,0.15)}
        .stat-number{font-size:2.5rem;font-weight:700;color:var(--brand-gold);margin-bottom:5px}
        .stat-label{color:#666;font-size:.9rem;text-transform:uppercase;letter-spacing:1px}
        .content-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:30px;margin-bottom:30px}
        .section-card{background:rgba(255,255,255,0.9);border-radius:20px;padding:30px;box-shadow:0 15px 35px var(--shadow-light)}
        .section-title{font-family:'Playfair Display',serif;font-size:1.8rem;color:#1a1a1a;margin-bottom:25px;display:flex;align-items:center;gap:12px}
        .section-title i{color:var(--brand-gold);font-size:1.5rem}
        .form-group{margin-bottom:20px}
        .form-group label{display:block;margin-bottom:8px;font-weight:600;color:#444;font-size:.9rem;text-transform:uppercase}
        .form-group input,.form-group select{width:100%;padding:14px 18px;border-radius:12px;font-size:16px;transition:.2s;background:#fdfdfd;border:2px solid rgba(0,0,0,0.1)}
        .form-group input:focus,.form-group select:focus{outline:0;border-color:var(--brand-gold);box-shadow:0 0 15px var(--shadow-gold)}
        .controls{margin-top:25px}
        .search-box{position:relative;margin-bottom:15px}
        .search-box input{background-color:var(--brand-light);border:2px solid transparent;transition:all .3s ease;padding-left:45px;font-weight:500}
        .search-box input:focus{background-color:#fff;border-color:var(--brand-gold);box-shadow:0 5px 15px var(--shadow-gold)}
        .search-box input::placeholder{color:#999}
        .search-box i{position:absolute;left:18px;top:50%;transform:translateY(-50%);color:#b0a080;transition:color .3s ease}
        .search-box input:focus+i{color:var(--brand-gold)}
        .btn{padding:14px 28px;border:none;border-radius:12px;cursor:pointer;font-weight:600;display:inline-flex;align-items:center;justify-content:center;gap:8px;transition:.3s}
        .btn-primary{background:linear-gradient(135deg,#c0a062,#d4b375);color:#fff;width:100%}
        .btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 25px var(--shadow-gold)}
        .btn-danger{background:#e74c3c;color:#fff}
        .btn-secondary{background:#6c757d;color:#fff}
        .btn-small{padding:8px 16px;font-size:.8rem;border-radius:8px}
        .items-list{max-height:385px;overflow-y:auto;margin-top:20px;position:relative}
        .items-list::-webkit-scrollbar{display:none}
        .items-list::after{content:'';position:absolute;bottom:0;left:0;right:0;height:50px;background:linear-gradient(to top,rgba(255,255,255,0.95) 30%,transparent);pointer-events:none;border-bottom-left-radius:20px;border-bottom-right-radius:20px}
        .item{background:rgba(255,255,255,0.6);border-radius:12px;padding:15px 20px;margin-bottom:15px;border:1px solid rgba(0,0,0,0.05);display:flex;justify-content:space-between;align-items:center;transition:.3s}
        .item:hover{background:rgba(255,255,255,0.9);transform:translateX(5px)}
        .item-info{display:flex;align-items:center;gap:15px;flex-grow:1;min-width:0}
        .item-info p{margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
        .item-info a{color:var(--brand-gold);font-size:.8rem;text-decoration:none;word-break:break-all}
        .item-info a:hover{text-decoration:underline}
        .actions-cell{position:relative;flex-shrink:0}
        .actions-btn{background:0 0;border:none;font-size:1.2rem;color:#888;cursor:pointer;padding:5px 10px}
        .actions-btn:hover{color:var(--brand-dark)}
        .dropdown-menu{display:none;position:absolute;right:0;top:100%;background:#fff;border-radius:8px;box-shadow:0 10px 30px var(--shadow-light);z-index:1000;overflow:hidden;min-width:180px}
        .dropdown-menu.show{display:block}
        .dropdown-item{padding:12px 18px;border:none;background:0 0;width:100%;text-align:left;cursor:pointer;display:flex;align-items:center;gap:10px}
        .dropdown-item:hover{background:var(--brand-light)}
        .dropdown-item i{width:15px;text-align:center;color:#888}
        .dropdown-divider{height:1px;background:#eee;margin:5px 0}
        .modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:9998;animation:fadeIn .3s}
        .modal.show{display:flex}
        .modal-box{background:#fff;padding:30px;border-radius:16px;text-align:center;width:90%;max-width:480px;animation:fadeInUp .4s;position:relative}
        .modal-box .close-btn{position:absolute;top:10px;right:15px;background:0 0;border:none;font-size:1.5rem;color:#aaa;cursor:pointer}
        .modal-box h3{font-family:'Playfair Display',serif;margin-bottom:25px}
        .modal-box p{margin:0;font-size:1.1rem;margin-bottom:25px}
        .modal-box .form-group,.modal-box .details-group{text-align:left;margin-bottom:15px}
        .details-group strong{display:block;color:#888;font-size:.8rem;text-transform:uppercase;margin-bottom:4px}
        .details-group span,.details-group ul{font-size:1.1rem}
        .details-group ul{list-style:none;padding-left:0}
        .details-group li{background:var(--brand-light);padding:8px 12px;border-radius:6px;margin-bottom:5px}
        .modal-actions{display:flex;justify-content:center;gap:15px;margin-top:20px}
        #assign-gallery-list{max-height:250px;overflow-y:auto;text-align:left;border:1px solid #eee;border-radius:8px;padding:10px;margin-top:15px}
        .gallery-checkbox-item{display:flex;align-items:center;gap:10px;padding:8px;border-radius:6px;cursor:pointer}
        .gallery-checkbox-item:hover{background-color:var(--brand-light)}
        .gallery-checkbox-item input{width:18px;height:18px}
        #toast-container{position:fixed;bottom:20px;right:20px;z-index:9999}
        .toast{background:#fff;border-left:6px solid;padding:15px 20px;margin-bottom:10px;border-radius:8px;box-shadow:0 5px 15px rgba(0,0,0,0.15);display:flex;align-items:center;gap:10px;animation:fadeInUp .3s ease,fadeOut .5s ease 4.5s forwards}
        .toast.success{border-color:#28a745}
        .toast.error{border-color:#dc3545}
        @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        @keyframes fadeIn{from{opacity:0}to{opacity:1}}
        @keyframes fadeOut{to{opacity:0;transform:translateY(-20px)}}
        @media (max-width: 1200px){.content-grid{grid-template-columns:repeat(2,1fr)}}
        @media (max-width: 992px){.content-grid{grid-template-columns:1fr}}
        @media (max-width: 768px){.dashboard-header{flex-direction:column;gap:20px;text-align:center}.stats-grid{grid-template-columns:1fr 1fr}}
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div id="login-view">
        <div class="login-container">
            <h1><i class="fas fa-crown"></i> Admin Portal</h1>
            <form id="login-form" autocomplete="off">
                <div class="form-group"><label for="username">Username</label><input type="text" id="username" autocomplete="off" required></div>
                <div class="form-group"><label for="password">Password</label><input type="password" id="password" autocomplete="new-password" required></div>
                <button type="submit" class="btn btn-primary"><i class="fas fa-sign-in-alt"></i> Sign In</button>
            </form>
        </div>
    </div>
    <div id="dashboard-content" class="dashboard-container">
        <div class="dashboard-header">
            <h1 class="dashboard-title"><i class="fas fa-camera-retro"></i> Signature Photography</h1>
            <div class="admin-info"><span id="admin-welcome">Welcome, Admin</span><button id="logout-btn" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button></div>
        </div>
        <div class="stats-grid">
            <div class="stat-card"><div class="stat-number" id="total-galleries">0</div><div class="stat-label">Active Galleries</div></div>
            <div class="stat-card"><div class="stat-number" id="total-clients">0</div><div class="stat-label">Registered Clients</div></div>
            <div class="stat-card"><div class="stat-number" id="total-selections">0</div><div class="stat-label">Total Selections Made</div></div>
        </div>

        <div class="content-grid">
            <div class="section-card">
                <h2 class="section-title"><i class="fas fa-folder-plus"></i> Gallery Management</h2>
                <form id="create-gallery-form" autocomplete="off">
                    <div class="form-group"><label for="gallery-name">Gallery Name</label><input type="text" id="gallery-name" autocomplete="off" required></div>
                    <div class="form-group"><label for="folder-link">Google Drive Folder Link</label><input type="url" id="folder-link" autocomplete="off" required></div>
                    <div class="form-group"><label for="client-select">Assign to Client (Optional)</label><select id="client-select"><option value="">-- No Client --</option></select></div>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-plus"></i> Create Gallery</button>
                </form>
                <div class="controls"><div class="search-box"><input type="text" id="gallery-search" autocomplete="off" placeholder="Search galleries..."><i class="fas fa-search"></i></div></div>
                <div id="gallery-list" class="items-list"></div>
            </div>
            <div class="section-card">
                <h2 class="section-title"><i class="fas fa-user-cog"></i> Client Management</h2>
                <form id="create-client-form" autocomplete="off">
                    <div class="form-group"><label for="client-name">Full Name</label><input type="text" id="client-name" autocomplete="off" required></div>
                    <div class="form-group"><label for="client-username">Username</label><input type="text" id="client-username" autocomplete="off" required></div>
                    <div class="form-group"><label for="client-password">Password</label><input type="password" id="client-password" autocomplete="new-password" required></div>
                    <button type="submit" class="btn btn-primary"><i class="fas fa-user-plus"></i> Add Client</button>
                </form>
                <div class="controls"><div class="search-box"><input type="text" id="client-search" autocomplete="off" placeholder="Search clients..."><i class="fas fa-search"></i></div></div>
                <div id="client-list" class="items-list"></div>
            </div>
             <div class="section-card">
                <h2 class="section-title"><i class="fas fa-address-book"></i> Client Contacts</h2>
                <div class="controls"><div class="search-box"><input type="text" id="contact-search" autocomplete="off" placeholder="Search by name or email..."><i class="fas fa-search"></i></div></div>
                <div id="contact-list" class="items-list"></div>
            </div>
        </div>
    </div>

    <div id="toast-container"></div>
    <div id="confirm-modal" class="modal"><div class="modal-box"><p id="confirm-message">Are you sure?</p><div class="modal-actions"><button id="confirm-yes" class="btn btn-danger">Yes, Delete</button><button id="confirm-no" class="btn btn-secondary">Cancel</button></div></div></div>
    <div id="edit-client-modal" class="modal"><div class="modal-box"><button class="close-btn" data-modal-id="edit-client-modal">&times;</button><h3>Edit Client Details</h3><form id="edit-client-form" autocomplete="off"><input type="hidden" id="edit-client-id"><div class="form-group"><label for="edit-client-name">Full Name</label><input type="text" id="edit-client-name" autocomplete="off" required></div><div class="form-group"><label for="edit-client-username">Username</label><input type="text" id="edit-client-username" autocomplete="off" required></div><div class="form-group"><label for="edit-client-password">New Password (Optional)</label><input type="password" id="edit-client-password" autocomplete="new-password" placeholder="Leave blank to keep current"></div><button type="submit" class="btn btn-primary">Save Changes</button></form></div></div>
    <div id="assign-gallery-modal" class="modal"><div class="modal-box"><button class="close-btn" data-modal-id="assign-gallery-modal">&times;</button><h3 id="assign-gallery-title">Assign Galleries</h3><form id="assign-gallery-form"><input type="hidden" id="assign-client-id"><div class="form-group"><label>Select galleries for this client</label><div id="assign-gallery-list"></div></div><button type="submit" class="btn btn-primary">Update Assignments</button></form></div></div>
    <div id="view-client-modal" class="modal"><div class="modal-box"><button class="close-btn" data-modal-id="view-client-modal">&times;</button><h3 id="view-client-name">Client Details</h3><div class="details-group"><strong>Username</strong><span id="view-client-username"></span></div><div class="details-group"><strong>Assigned Galleries</strong><ul id="view-client-galleries"></ul></div></div></div>
    
    <script src="dashboard.js"></script>
</body>
</html>